ㅏ동--- 
title: "Github Action으로 Android Firebase App Distribution 배포 자동화 하기"
date: "2024-12-17" 
tags: 
    - android
    - git
    - ci/cd
---

Github Action CD 도입을 위해 테스트 했던 내용 정리 

# 목표 : 테스트앱 배포 자동화
---

매번 테스트 앱 배포할 때마다 배포하고 노티하는 번거로움을 CD로 해결해보자.
1. 트리거가 발생하면 -> Firebase App Distribution 배포
2. 성공 시 Slack 채널에 알람

```yaml
name : App Build

on : 
    # 트리거 정의
    
job :
    # APK 추출
    # App Distrubution 업로드
    # Slack 채널에 노티
```

# 테스트
---
## 최종 코드
### action.yaml

<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28171%2C+184%2C+195%2C+1%29&t=seti&wt=none&l=yaml&width=680&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false&code=name%253A%2520App-Distribution%250A%250Aon%253A%250A%2520%2520push%253A%250A%2520%2520%2520%2520branches%253A%250A%2520%2520%2520%2520%2520%2520-%2520release%252F**%2520%250A%2520%2520%2520%2520%2520%2520-%2520hotfix%252F**%250A%2520%2520%2520%2520paths%253A%250A%2520%2520%2520%2520%2520%2520-%2520docs%252Frelease-note.txt%250A%250Aenv%253A%250A%2520%2520RELEASE_NOTE_FILE%253A%2520docs%252Frelease-note.txt%250Ajobs%253A%250A%2520%2520deploy%253A%250A%2520%2520%2520%2520runs-on%253A%2520ubuntu-latest%250A%250A%2520%2520%2520%2520steps%253A%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Checkout%2520branch%250A%2520%2520%2520%2520%2520%2520%2520%2520uses%253A%2520actions%252Fcheckout%2540v2%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Cache%2520NDK%250A%2520%2520%2520%2520%2520%2520%2520%2520uses%253A%2520actions%252Fcache%2540v2%250A%2520%2520%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520path%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%7E%252Fndk%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520key%253A%2520%2524%257B%257B%2520runner.os%2520%257D%257D-ndk-20.0.5594570-%2524%257B%257B%2520hashFiles%28%27**%252Fbuild.gradle%27%29%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520restore-keys%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2524%257B%257B%2520runner.os%2520%257D%257D-ndk-%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Install%2520NDK%250A%2520%2520%2520%2520%2520%2520%2520%2520run%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520mkdir%2520-p%2520%2524HOME%252Fndk%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520wget%2520-q%2520https%253A%252F%252Fdl.google.com%252Fandroid%252Frepository%252Fandroid-ndk-r20-linux-x86_64.zip%2520-O%2520%2524HOME%252Fndk%252Fndk.zip%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520unzip%2520-qn%2520%2524HOME%252Fndk%252Fndk.zip%2520-d%2520%2524HOME%252Fndk%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522ndk.dir%253D%2524HOME%252Fndk%252Fandroid-ndk-r20%2522%2520%253E%253E%2520%2524GITHUB_WORKSPACE%252Flocal.properties%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Gradle%2520cache%250A%2520%2520%2520%2520%2520%2520%2520%2520uses%253A%2520actions%252Fcache%2540v3%250A%2520%2520%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520path%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%7E%252F.gradle%252Fcaches%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%7E%252F.gradle%252Fwrapper%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520key%253A%2520%2524%257B%257B%2520runner.os%2520%257D%257D-gradle-%2524%257B%257B%2520hashFiles%28%27**%252F*.gradle*%27%29%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520restore-keys%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2524%257B%257B%2520runner.os%2520%257D%257D-gradle-%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Set%2520up%2520JDK%250A%2520%2520%2520%2520%2520%2520%2520%2520uses%253A%2520actions%252Fsetup-java%2540v3%250A%2520%2520%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520distribution%253A%2520%27zulu%27%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520java-version%253A%2520%2717%27%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Grant%2520Permission%2520for%2520gradlew%2520%2523%2520gradlew%2520%25EC%2597%2590%2520%25EB%258C%2580%25ED%2595%259C%2520%25ED%258D%25BC%25EB%25AF%25B8%25EC%2585%2598%25EC%259D%2584%2520%25ED%2597%2588%25EC%259A%25A9%25ED%2595%259C%25EB%258B%25A4.%250A%2520%2520%2520%2520%2520%2520%2520%2520run%253A%2520chmod%2520%252Bx%2520.%252Fgradlew%250A%2520%2520%2520%2520%2520%2520%2520%2520shell%253A%2520bash%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Create%2520google-services.json%250A%2520%2520%2520%2520%2520%2520%2520%2520run%253A%2520echo%2520%27%2524%257B%257B%2520secrets.GOOGLE_SERVICES_JSON%2520%257D%257D%27%2520%253E%2520.%252Fapp%252Fgoogle-services.json%250A%250A%2520%2520%2520%2520%2520%2520-%2520name%253A%2520Build%2520APK%250A%2520%2520%2520%2520%2520%2520%2520%2520run%253A%2520.%252Fgradlew%2520assembleDebug"
  style="width: 1024px; height: 1365px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>

<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28171%2C+184%2C+195%2C+1%29&t=seti&wt=none&l=yaml&width=680&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false&code=%2520%2520%2520%2509-%2520name%253A%2520Find%2520APK%2520in%2520folder%250A%2520%2520%2520%2520%2520%2520id%253A%2520find_apk%250A%2520%2520%2520%2520%2520%2520run%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520apk_file%253D%2524%28find%2520app%252Fbuild%252Foutputs%252Fapk%252Fdebug%2520-name%2520%27*.apk%27%2520-type%2520f%2520-printf%2520%27%2525T%2540%2520%2525p%255Cn%27%2520%257C%2520sort%2520-n%2520%257C%2520tail%2520-1%2520%257C%2520cut%2520-d%27%2520%27%2520-f2-%29%250A%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Found%2520APK%2520file%253A%2520%2524apk_file%2522%250A%2520%2520%2520%2520%2520%2520%2520echo%2520%2522apk_file%253D%2524apk_file%2522%2520%253E%253E%2520%2524GITHUB_ENV%250A%250A%2520%2520%2520%2520%2523%2520Deploy%2520to%2520Firebase%2520App%2520Distribution%250A%2520%2520%2520%2520-%2520name%253A%2520Deploy%2520to%2520Firebase%2520App%2520Distribution%250A%2520%2520%2520%2520%2520%2520uses%253A%2520wzieba%252FFirebase-Distribution-Github-Action%2540v1%250A%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520appId%253A%2520%2524%257B%257B%2520secrets.FIREBASE_APP_ID%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520serviceCredentialsFileContent%253A%2520%2524%257B%257B%2520secrets.CREDENTIAL_FILE_CONTENT%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520file%253A%2520%2524%257B%257B%2520env.apk_file%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520groups%253A%2520%2524%257B%257B%2520vars.FIREBASE_GROUPS%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520releaseNotesFile%253A%2520%2524%257B%257B%2520env.RELEASE_NOTE_FILE%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2523%2520%25ED%258C%258C%25EC%259D%25BC%2520%25EB%2582%25B4%25EC%259A%25A9%2520%25EC%259D%25BD%25EC%2596%25B4%2520%25ED%2599%2598%25EA%25B2%25BD%2520%25EB%25B3%2580%25EC%2588%2598%25EB%25A1%259C%2520%25EC%2584%25A4%25EC%25A0%2595%250A%2520%2520%2520%2520-%2520name%253A%2520Read%2520Release%2520Notes%2520and%2520Set%2520Environment%2520Variable%250A%2520%2520%2520%2520%2520%2520run%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520if%2520%255B%2520-f%2520%2522%2524RELEASE_NOTE_FILE%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Converting%2520release%2520notes%2520to%2520a%2520JSON-friendly%2520format...%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520RELEASE_NOTES%253D%2524%28cat%2520%2522%2524RELEASE_NOTE_FILE%2522%2520%257C%2520sed%2520%27%253Aa%253BN%253B%2524%21ba%253Bs%252F%255Cn%252F%255C%255Cn%252Fg%27%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522FIREBASE_RELEASE_NOTES%253D%2524RELEASE_NOTES%2522%2520%253E%253E%2520%2522%2524GITHUB_ENV%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522FIREBASE_RELEASE_NOTES%253DNo%2520release%2520notes%2520found%2522%2520%253E%253E%2520%2522%2524GITHUB_ENV%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520fi%250A%250A%2520%2520%2520%2520-%2520name%253A%2520Debug%2520Specific%2520Environment%2520Variable%250A%2520%2520%2520%2520%2520%2520run%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522FIREBASE_RELEASE_NOTES%253A%2520%2524FIREBASE_RELEASE_NOTES%2522%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520%2523%2520Notify%250A%2520%2520%2520%2520-%2520name%253A%2520Send%2520success%2520notification%2520to%2520Slack%250A%2520%2520%2520%2520%2520%2520if%253A%2520success%28%29%250A%2520%2520%2520%2520%2520%2520uses%253A%2520slackapi%252Fslack-github-action%2540v2.0.0%250A%2520%2520%2520%2520%2520%2520env%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520RELEASE_NOTES%253A%2520%2524%257B%257B%2520env.FIREBASE_RELEASE_NOTES%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520GROUP%253A%2520%2524%257B%257B%2520vars.FIREBASE_GROUPS%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520payload-file-path%253A%2520%2522.%252Fartifacts.json%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520payload-templated%253A%2520true%250A%2520%2520%2520%2520%2520%2520%2520%2520webhook%253A%2520%2524%257B%257B%2520secrets.SLACK_WEBHOOK_URL%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520webhook-type%253A%2520webhook-trigger"
  style="width: 1024px; height: 1030px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>

### ./artifacts.json

<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28171%2C+184%2C+195%2C+1%29&t=seti&wt=none&l=application%2Fjson&width=680&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false&code=%257B%250A%2520%2520%2522text%2522%253A%2520%2522Firebase%2520App%2520Deployment%2520Notification%2522%252C%250A%2520%2520%2522attachments%2522%253A%2520%255B%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2522color%2522%253A%2520%2522%252374d990%2522%252C%250A%2520%2520%2520%2520%2520%2520%2522blocks%2522%253A%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522section%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522text%2522%253A%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522mrkdwn%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522text%2522%253A%2520%2522%253Arocket%253A%2520*Firebase%2520App%2520Distribution%2520Successful*%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522section%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522text%2522%253A%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522mrkdwn%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522text%2522%253A%2520%2522%2524%257B%257B%2520env.RELEASE_NOTES%2520%257D%257D%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522divider%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522context%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522elements%2522%253A%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522mrkdwn%2522%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522text%2522%253A%2520%2522Group%253A%2520%2524%257B%257B%2520env.GROUP%2520%257D%257D%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%255D%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%255D%250A%2520%2520%2520%2520%257D%250A%2520%2520%255D%250A%257D"
  style="width: 1024px; height: 473px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>

> 📌 트리거 : release/**, hotfix/** 브랜치에서 docs/release-note.txt 변경 시

* 배포 노트까지 로컬에서 써서 push만 하면 바로 배포가 되도록 설정
* 처음에는 트리거를 이슈로 하고 이슈 내용을 배포 노트로 해도 좋을 것 같아서 해봤는데, 배포할 브랜치 설정도 필요하고, 이슈 오픈하는 과정이나 이런 게 귀찮아서 최대한 단순하게 하는 게 좋을 것 같아 pass
    * 이슈 트리거로 했던 코드는 아래에 메모

<iframe
  src="https://carbon.now.sh/embed?bg=rgba%28171%2C+184%2C+195%2C+1%29&t=seti&wt=none&l=yaml&width=680&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=2x&wm=false&code=on%253A%250A%2523%2520trigger%2520%253A%2520%25EC%259D%25B4%25EC%258A%2588%2520%25EC%2583%259D%25EC%2584%25B1%2520%25EC%258B%259C%250A%2520issues%253A%250A%2520%2520%2520types%253A%2520%255B%2520opened%2520%255D%250A%250A%2520%2520%2520%2520%2523%2520%25EC%25A4%2591%25EA%25B0%2584%2520%25EC%2584%25A4%25EC%25A0%2595%250A%2520%2520%2520%2520%2523%2520...%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520%2523%2520%25EC%259D%25B4%25EC%258A%2588%2520%25EC%2584%25A4%25EB%25AA%2585%2520%25EA%25B0%2580%25EC%25A0%25B8%25EC%2598%25A4%25EA%25B8%25B0%250A%2520%2520%2520%2520-%2520name%253A%2520Get%2520issue%2520description%250A%2520%2520%2520%2520%2520%2520id%253A%2520fetch-issue%250A%2520%2520%2520%2520%2520%2520uses%253A%2520actions%252Fgithub-script%2540v6%250A%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520script%253A%2520%257C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520const%2520description%2520%253D%2520context.payload.issue%253F.body%2520%257C%257C%2520%2522%2522%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520core.setOutput%28%2522issue_body%2522%252C%2520description%29%253B%250A%250A%2520%2520%2520%2520%2523%2520Firebase%2520%25EB%25B0%25B0%25ED%258F%25AC%250A%2520%2520%2520%2520-%2520name%253A%2520Deploy%2520to%2520Firebase%2520App%2520Distribution%250A%2520%2520%2520%2520%2520%2520uses%253A%2520wzieba%252FFirebase-Distribution-Github-Action%2540v1%250A%2520%2520%2520%2520%2520%2520with%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520appId%253A%2520%2524%257B%257B%2520secrets.FIREBASE_APP_ID%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520serviceCredentialsFileContent%253A%2520%2524%257B%257B%2520secrets.CREDENTIAL_FILE_CONTENT%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520file%253A%2520%2524%257B%257B%2520env.apk_file%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520groups%253A%2520%2524%257B%257B%2520vars.FIREBASE_GROUPS%2520%257D%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520releaseNotes%253A%2520%2524%257B%257B%2520steps.fetch-issue.outputs.issue_body%2520%257D%257D"
  style="width: 799px; height: 676px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>

> 📌 변수 설정

![image](https://gist.github.com/user-attachments/assets/c72c89da-21fc-4f7d-b189-918aeaa922fc)
![image](https://gist.github.com/user-attachments/assets/583e0964-883e-4fa9-a645-fb2bd53f4a40)

* 기본적으로 위와 같은 설정 해주었고 추가로 keystore 등 추가하면 된다.
* FIREBASE_GROUPS는 파이어베이스 배포 그룹이었는데 간단히 바꿀 수 있게끔 하려고 var 로 뺐다.
    * 이 부분 그룹 ID 대충 해보려고 하다가 고생함..
    * 그룹은 들어가서 파이어베이스 그룹 이름이 아니고 이름 옆에 표기된 걸로 해야 한다.
    * 여러 개 그룹 넣을 경우에는 띄워쓰기 없이 아래처럼 해야한다.
        * "그룹1,그룹2"
    * 그룹 ID가 제대로 설정하지 않으면 아래와 같은 오류를 마주한다..
        * `HTTP Error: 404, Requested entity was not found.`
=> 단 요건 github action 버전 마다 다를 수 있어서 주의 필요
![image](https://user-images.githubusercontent.com/17172841/173846092-89ae68b6-96f8-4f66-826f-47962efecd7f.png
)

* CREDENTIAL_FILE_CONTENT의 경우는 [해당 사이트](https://github.com/wzieba/Firebase-Distribution-Github-Action/wiki/FIREBASE_TOKEN-migration) 참고해서 발급받으면 된다. 
 
 > 📌 ./artifacts.json 으로 Slack 에 노티 시 템플릿 설정
 
 * [Slack Kit Builder](https://app.slack.com/block-kit-builder/T03V2A4FCLA) 에서 만들었음
 * payload-templated을 true로 해주고, payload-file-path를 위로 설정해주어야 되며, 처음에 json 파일에서 바로 변수 참조했다가 `???' 로 뜨는 경우가 있었다... 요 [이슈](https://github.com/slackapi/slack-github-action/issues/203) 참고해서 env로 설정해서 해결
 * 추가로 release-note.txt 파일을 그냥 cat으로 읽으면 --> 멀티 라인은 변수로 저장할 수 없어서 변수 저장할 때부터 오류, EOF로 바꾸면 형식을 artifacts.json에서 읽을 수 없다고 하기 때문에 json 이 읽을 수 있는 형식에 맞게 바꿔주었다. 
